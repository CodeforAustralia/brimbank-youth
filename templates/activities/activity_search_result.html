{% extends 'base.html' %}

{% load static %}

{% block title %}Youth Poster{% endblock %}

{% block stylesheet %}
    <link rel="stylesheet" href="{% static 'css/easy-autocomplete.css' %}">
    <link rel="stylesheet" href="{% static 'css/easy-autocomplete.themes.css' %}">
{% endblock %}

{% block content %}
<div class="jumbotron mb-6">
  <div class="container text-center">
      <h1 class="display-4">Youth Poster</h1>
    <p class="lead">Search for events and activities in your area</p>
    <hr class="my-3">
    <form method="get" class="form-inline justify-content-center" novalidate>
<!--    <div class="form-group">-->
        <label class="sr-only" for="id_name">Activity name</label>
        <input type="text" name="name" placeholder="Swimming, Dance..." maxlength="150" class="form-control mr-sm-2" id="id_name" />
        <label class="sr-only" for="id_location">Location</label>
        <input type="text" name="location" placeholder="Sunshine, Deer Park... " maxlength="150" class="form-control mr-sm-2" id="id_location" />
        <button type="submit" class="btn btn-success mr-sm-2" name="search" value="search">Search</button>
<!--    </div>    -->
    </form>  
  </div>
</div>
    
    {% if activities %}
    <div class="row justify-content-center">
    {% for activity in activities %}
    <div class="col-sm-6">
      <div class="card">
      {% if activity.activity_img %}
      <img class="card-img-top" src="{{ activity.activity_img.url }}" alt="Card image cap">
      {% endif %}
      <div class="card-body">
        <h3 class="card-title"><a href="{% url 'activity_detail' activity.pk %}">{{ activity.name }}</a></h3>
        <p class="card-text">{{ activity.activity_type }}</p>
        <p class="card-text">{{ activity.start_date|date:'M d, Y' }} - {{ activity.start_time|time:'H:i' }}</p>
        <p class="card-text">{{ activity.end_date|date:'M d, Y' }} - {{ activity.end_time|time:'H:i' }}</p>
    <!--    <input type="checkbox" name="sent" checked />-->
        <input type="checkbox" id=activity_{{ activity.pk }} name ="checkboxes" value={{ activity.pk }} />
      </div>
      </div>
      <br />
    </div>
    {% endfor %}
    </div>

    {% include 'includes/pagination_2.html' %}

    {% endif %}
    
    {% if user.is_authenticated %}
    <button type="submit" class="btn btn-outline-success" name="search" value="share">Share via text</button>
    <button type="submit" class="btn btn-outline-success" name="search" value="email">Share via email</button>
    {% endif %}
<!--</form>-->

<br />

{% if not user.is_authenticated %}
<div class="sharethis-inline-share-buttons"></div>
{% endif %}

{% endblock %}

{% block javascript %}
<script src="{% static 'js/jquery.easy-autocomplete.js' %}"></script>

<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5a2f1bb7fce9e20013a73372&product=inline-share-buttons"></script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDuR6-6PfCU7wRsSRRR3DH_PseEAYvyp3k&libraries=places&region=au"></script>

<script>
//var options = {
//    data: ["Swimming", "Dance", "Soccer", "Basketball", "Volleyball", ]
//};
//$('#id_name').easyAutocomplete(options);
    
//Google maps
function initialize() {
    var input = document.getElementById('id_location');
    var autocomplete = new google.maps.places.Autocomplete(input);
}
google.maps.event.addDomListener(window, 'load', initialize);

</script>

{% endblock %} 