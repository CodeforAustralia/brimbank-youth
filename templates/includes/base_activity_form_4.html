{% load form_tags widget_tweaks %}

{% if form.non_field_errors %}
  <div class="alert alert-danger" role="alert">
    {% for error in form.non_field_errors %}
      <p>{% if forloop.last %} class="mb-0"{% endif %}>{{ error }}</p> <!-- for the last error, put mb/margin-bottom = 0 so that the error message doesn't look weird. By default, p has mb which doesn't equal to 0-->
    {% endfor %}
  </div>
{% endif %}

{% for field in form %}

{% if field.label == "Create the number of spaces available" or field.label == "Is there a cost ?" or field.label == "Living in Australia" or field.label == "Listing Privacy" or field.label == "From age" or field.label == "To age" or field.label == "Background" or field.label == "Gender" %}

    <div class="form-group">
    {% if field.label == "Create the number of spaces available" %}
        <p class = "card-title">STEP 4 OF 4</p>
    {% endif %}
        
        <label class="col-form-label" ><h3>{{ field.label_tag }}</h3></label>
                
        {% render_field field class=field|input_class %}
        {% for error in field.errors %}
            <div class="invalid-feedback">
                {{ error }}
            </div>
        {% endfor %}
        
        {% if field.help_text %}
          <small class="form-text text-muted">
            {{ field.help_text|safe }}
          </small>
        {% endif %}
    </div>

    {% endif %}

{% endfor %}