{% load form_tags widget_tweaks %}

{% if form.non_field_errors %}
  <div class="alert alert-danger" role="alert">
    {% for error in form.non_field_errors %}
      <p>{% if forloop.last %} class="mb-0"{% endif %}>{{ error }}</p> <!-- for the last error, put mb/margin-bottom = 0 so that the error message doesn't look weird. By default, p has mb which doesn't equal to 0-->
    {% endfor %}
  </div>
{% endif %}

{% for field in form %}

{% if field.label == "HOW OFTEN DOES THIS EVENT OCCUR" or field.label == "FROM" or field.label == "TO" or field.label == "Activity date" or field.label == "Activity day" or field.label == "OCCURS FROM" or field.label == "OCCURS UNTIL" %}

    <div class="form-group">
        
    {% if field.label == "HOW OFTEN DOES THIS EVENT OCCUR" %}
        <p class = "card-title">STEP 2 OF 3</p>
        <h3 >When does it start and end ?</h3>
    {% endif %}
        
        {% if field.label == "OCCURS FROM" %}
        <label class="col-form-label" id="label_start_date">{{ field.label_tag }}</label>
        {% elif field.label == "OCCURS UNTIL" %}
        <label class="col-form-label" id="label_end_date">{{ field.label_tag }}</label>
        {% elif field.label == "Activity day" %}
        <label class="col-form-label" id="label_activity_day">{{ field.label_tag }}</label>
        {% elif field.label == "Activity date" %}
        <label class="col-form-label" id="label_activity_date">{{ field.label_tag }}</label>
        {% else %}
        <label class="col-form-label" >{{ field.label_tag }}</label>
        {% endif %}
        
        
        {% render_field field class=field|input_class %}
        {% for error in field.errors %}
            <div class="invalid-feedback">
                {{ error }}
            </div>
        {% endfor %}
        
        {% if field.help_text %}
          <small class="form-text text-muted">
            {{ field.help_text|safe }}
          </small>
        {% endif %}
    </div>

    {% endif %}

{% endfor %}